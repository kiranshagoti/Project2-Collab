

<div class="side bar d-flex">
<div>
{{!-- <div class="container"> --}}
  <div class="d-flex flex-column">
    {{!-- <div class="fixed-left" id="sticky-sidebar">
      <div class="row"> --}}
    {{!-- <div class="btn btn-danger col-sm-4" id="sticky-sidebar">  --}}
      <a href="/dashboard" class="btn btn-danger ">Home</a>
      {{!-- <a href="/dashboard">Home</a> --}}
      {{!-- <input class="d-flex w-100" type="text" name="title" id="title" value="{{title}}">
       <a class="list-group-item list-group-item-action active"
          id="list-home-list" href="/dashboard" role="tab" aria-controls="home">Home</a> --}}
    {{!-- </div> --}}
    {{!-- <div class="btn btn-danger col-sm-4" id="sticky-sidebar"> --}}
      <a href="/dashboard/profile" class="btn btn-danger mt-2">Profile</a>
      {{!-- <a href="/dashboard/profile">Profile</a> --}}
      {{!-- <a class="list-group-item list-group-item-action" id="list-profile-list" href="/dashboard/profile" role="tab"
          aria-controls="profile">Profile</a> --}}
    {{!-- </div> --}}
    {{!-- <div class="btn btn-danger col-sm-4" id="sticky-sidebar"> --}}
      <a href="/dashboard/settings" class="btn btn-danger mt-2">Settings</a>
      {{!-- <a href="dashboard/settings">Settings</a> --}}
      {{!-- <a class="list-group-item list-group-item-action" id="list-settings-list" href="/dashboard/settings" role="tab"
          aria-controls="settings">Settings</a> --}}
    {{!-- </div> --}}
    {{!-- <div class="btn btn-danger col-sm-4" id="sticky-sidebar"> --}}
      <a href="/auth/logout" class="btn btn-danger mt-2">Logout</a>
      {{!-- <a href="/auth/logout">Logout</a> --}}
      {{!-- <a class="list-group-item list-group-item-action" id="list-logout-list" href="/auth/logout" role="tab"
          aria-controls="logout">Logout</a> --}}
    </div>
    {{!-- </div>
    </div> --}}
  </div>
{{!-- </div> --}}
    {{!-- <div class="col">
      
      <div class="list-group" id="list-tab" role="tablist">
        <a class="list-group-item list-group-item-action active bg-danger" style="border-color: #DC3545"
          id="list-home-list" href="/dashboard" role="tab" aria-controls="home">Home</a>
        <a class="list-group-item list-group-item-action" id="list-profile-list" href="/dashboard/profile" role="tab"
          aria-controls="profile">Profile</a>
        <a class="list-group-item list-group-item-action" id="list-settings-list" href="/dashboard/settings" role="tab"
          aria-controls="settings">Settings</a>
        <a class="list-group-item list-group-item-action" id="list-logout-list" href="/auth/logout" role="tab"
          aria-controls="logout">Logout</a>
      </div>
    </div> --}}

    <div class="col-11">
      <div class="container">
        <div class="board-header-content-wrapper">
          <h5>Welcome {{user.username}}!</h5>
          <h3>Create your tasks!</h3>
          <br>
          <div class="editable-component" style="width:auto; height:auto;"></div>
          {{!-- <h3><input type="text" name="board-name" placeholder="Board name"></h3>
            <h4><input type="text" name="board-description" placeholder="Add a board description"></h4> --}}
          <div class="createDash drop">
            <button class="createItem btn btn-warning" onclick="createNewItem()">New task</button>

            <form class="form-group" id="taskForm" action="/dashboard" method="post" enctype="multipart/form-data">
            </form>
          </div>
          <br>
          <br>



          {{!-- <div class="form-row">
            <div class="col-md-2">
              <h5>Task name</h5>
            </div>
            <div class="col-md-2">
              <h5>Responsible</h5>
            </div>
            <div class="col-md-1">
              <h5>Status</h5>
            </div>
            <div class="col-md-1">
              <h5>Date</h5>
            </div>
            <div class="col-md-2">
              <h5>Priority</h5>
            </div>
            <div class="col-md-2">
              <h5>Comment</h5>
            </div>
            <div class="col-md-2">
              <h5>Attached</h5>
            </div>
          </div> --}}







          {{#each tasks}}


          <form id="taskForm" action="/dashboard/{{this._id}}" method="post" enctype="multipart/form-data">


            <div class="rowForm">
              
              <div class="colForm">
            <label for="name">Task name</label>
            <input class="form-control" type="text" placeholder="Add task name" name="name" value="{{this.name}}" />
            </div>
            
            <div class="colForm">
            <label for="responsable">Responsible</label>
            <select class="form-control" name="responsible">
              <option value="{{this.responsible}}" hidden="hidden" selected="selected">{{this.responsible}}</option>
              {{#each ../names}}
              <option>{{username}}</option>
              {{/each}}
            </select>
            </div>

            <div class="colForm">
            <label for="status">Status</label>
            <select class="form-control" name="status">
              <option value="{{this.status}}" hidden="hidden" selected="selected">{{this.status}}</option>
              <option>Stuck</option>
              <option>Working on it</option>
              <option>Done</option>
              <option>Waiting for review</option>
            </select>
            </div>

            <div class="colForm">
            <label for="dueDate">Due date</label>
            <input class="form-control" type="date" name="dueDate" value="{{this.dueDate}}" />
            </div>

            <div class="colForm">
            <label for="priority">Priority</label>
            <select class="form-control" name="priority">
              <option value="{{this.priority}}" hidden="hidden" selected="selected">{{this.priority}}</option>
              <option>Urgent</option>
              <option>High</option>
              <option>Medium</option>
              <option>Low</option>
            </select>
            </div>

            <div class="colForm">
              <label for="comment">Comment</label>
            <input class="form-control" type="text" placeholder="Add a comment" name="comment"
              value="{{this.comment}}" />
              </div>

            <div class="colForm">
            <label for="file">File</label></br>
            <a href="">{{this.files.name}}</a>
            </div>
            
            
            </div>
          </form>
          <form action="/dashboard/delete/{{this._id}}" method="post">
            <button class="btn btn-danger" type="submit">Delete</button>

          </form>
          {{/each}}



        </div>
      </div>
    </div>
  </div>
</div>



{{!-- <form action="/dashboard/" method="POST">
  <input placeholder="Add task" name="Add Task"></input>
  <input placeholder="to do" name="toDo"></input>
  <button>&times;</button>
</form> --}}



{{!-- <a href="/dashboard">Add task</a> --}}

<script>
  function createNewItem() {
    document.querySelector('#taskForm').innerHTML +=

`<div class="rowForm">
              
              <div class="colForm">
            <label for="name">Task name</label>
            <input class="form-control" type="text" placeholder="Add task name" name="name" />
            </div>
            
            <div class="colForm">
            <label for="responsable">Responsible</label>
            <select class="form-control" name="responsible">
    <option></option>
    {{#each names}}
    <option>{{username}}</option>
    {{/each}}
  </select>
            </div>

            <div class="colForm">
            <label for="status">Status</label>
            <select class="form-control" name="status">
              
              <option>Stuck</option>
              <option>Working on it</option>
              <option>Done</option>
              <option>Waiting for review</option>
            </select>
            </div>

            <div class="colForm">
            <label for="dueDate">Due date</label>
            <input class="form-control" type="date" name="dueDate"  />
            </div>

            <div class="colForm">
            <label for="priority">Priority</label>
            <select class="form-control" name="priority">
              
              <option>Urgent</option>
              <option>High</option>
              <option>Medium</option>
              <option>Low</option>
            </select>
            </div>

            <div class="colForm">
              <label for="comment">Comment</label>
            <input class="form-control" type="text" placeholder="Add a comment" name="comment" />
              </div>
              <div class='colForm'>
                <label for="file">File</label>
              <input class="form-control" type="file" name="files"/>
              </div>
 
            
            
            </div>`
      
    document.querySelectorAll(".formBtn").forEach(elem => elem.remove())
    let createBtn = document.createElement('button');
    createBtn.setAttribute("type", "submit")
    createBtn.classList.add("formBtn")
    createBtn.classList.add("btn")
    createBtn.classList.add("btn-danger")
    createBtn.innerText = "Save"
    let dashForm = document.querySelector("#taskForm")

    dashForm.appendChild(createBtn)
  }
</script>

















{{!-- `
      <input class="form-control" type="text" placeholder="Add task name" name="name"/>
      
      <select class="form-control" name="responsible">
    <option></option>
    {{#each names}}
    <option>{{username}}</option>
    {{/each}}
  </select>

  <select class="form-control" name="status">
    <option></option>
    <option>Stuck</option>
    <option>Working on it</option>
    <option>Done</option>
    <option>Waiting for review</option>
  </select>
  
  <input class="form-control" type="date" name="dueDate"/>

 <select class="form-control" name="priority">
    <option></option>
    <option>Urgent</option>
    <option>High</option>
    <option>Medium</option>
    <option>Low</option>
  </select>

  <input class="form-control" type="text" placeholder="Add a comment" name="comment"/>
  <input class="form-control" type="file" name="files"/>
      ` --}}